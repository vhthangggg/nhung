<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>L·ªùi Ch√†o ƒê·∫øn H·ªìng Nhung!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto+Mono:wght@400&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Pink/Purple Color Scheme */
            --bg-color: #1a1a2e;
            --primary-color: #ff7eb9; /* Vibrant Pink */
            --secondary-color: #00f5d4; /* Vibrant Teal */
            --text-color: #e6e6e6;
            --secondary-text: #f0b6d1; /* Lighter pink */
            --glow-color: rgba(255, 126, 185, 0.5);
            --particle-color: var(--primary-color);
            --container-bg: rgba(26, 26, 46, 0.9);
            --status-ok-color: var(--secondary-color);
        }

        /* Base Styles */
        body {
            background: var(--bg-color);
            font-family: 'Poppins', sans-serif;
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow-x: hidden;
            padding: 10px;
            box-sizing: border-box;
            position: relative;
            overflow-y: scroll;
        }

        /* Advanced Background Effects */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(var(--secondary-text) 0.5px, transparent 0.5px),
                linear-gradient(45deg, 
                    rgba(26, 26, 46, 0.8) 0%, 
                    rgba(58, 12, 163, 0.6) 50%, 
                    rgba(255, 126, 185, 0.4) 100%);
            background-size: 25px 25px, 200% 200%;
            opacity: 0.1;
            z-index: -2;
            animation: 
                moveBackground 90s linear infinite,
                gradientShift 15s ease infinite;
        }

        @keyframes moveBackground {
            from { background-position: 0 0, 0% 50%; }
            to { background-position: 450px 450px, 100% 50%; }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Particle Effects */
        #particles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: float 10s infinite ease-in-out;
            pointer-events: none;
        }

        @keyframes float {
            0% { transform: translateY(10vh) scale(0.8); opacity: 0; }
            25% { opacity: 0.6; }
            50% { transform: translateY(-15vh) scale(1.2); opacity: 0.4; }
            75% { opacity: 0.6; }
            100% { transform: translateY(10vh) scale(0.8); opacity: 0; }
        }

        /* Main Container */
        .container {
            background: var(--container-bg);
            border: 1px solid var(--primary-color);
            border-radius: 15px;
            padding: 20px;
            max-width: 90%;
            width: 100%;
            box-shadow: 
                0 0 20px var(--glow-color), 
                0 0 8px var(--primary-color) inset;
            text-align: center;
            position: relative;
            z-index: 1;
            animation: fadeInContainer 1.2s ease-out forwards;
            opacity: 0;
            transition: 
                transform 0.4s ease, 
                box-shadow 0.4s ease;
            box-sizing: border-box;
            margin: 20px 0;
            backdrop-filter: blur(5px);
        }

        .container:hover {
            transform: translateY(-3px) scale(1.01);
            box-shadow: 
                0 0 30px var(--glow-color), 
                0 0 10px var(--primary-color) inset, 
                0 3px 10px rgba(0,0,0,0.1);
        }

        @keyframes fadeInContainer {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Header Styles */
        .header h1 {
            color: var(--primary-color);
            font-size: 2em;
            margin-bottom: 8px;
            text-shadow: 0 0 10px var(--glow-color);
            animation: pulseGlow 2.5s infinite alternate ease-in-out;
        }

        @keyframes pulseGlow {
            from { text-shadow: 0 0 8px var(--glow-color); opacity: 0.9; }
            to { text-shadow: 0 0 15px var(--glow-color); opacity: 1; }
        }

        .header p {
            color: var(--secondary-text);
            font-size: 1em;
            margin-bottom: 20px;
        }

        /* Status Check Section */
        .status-check {
            font-family: 'Roboto Mono', monospace;
            text-align: left;
            margin-bottom: 20px;
            border-left: 2px solid var(--primary-color);
            padding: 10px 15px;
            background: rgba(0,0,0, 0.15);
            border-radius: 0 5px 5px 0;
        }

        .status-check p {
            margin: 8px 0;
            font-size: 0.9em;
            color: var(--secondary-text);
            opacity: 0;
            animation: slideIn 0.6s ease-out forwards;
        }

        .status-check p:nth-child(1) { animation-delay: 0.7s; }
        .status-check p:nth-child(2) { animation-delay: 1.0s; }
        .status-check p:nth-child(3) { animation-delay: 1.3s; }
        .status-check p:nth-child(4) { animation-delay: 1.6s; }
        .status-check p:nth-child(5) { animation-delay: 1.9s; }
        .status-check p:nth-child(6) { animation-delay: 2.2s; }
        .status-check p:nth-child(7) { animation-delay: 2.5s; }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-15px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .status-check strong {
            color: var(--primary-color);
            font-weight: 400;
        }

        .status-check .status-ok {
            color: var(--status-ok-color);
            font-weight: bold;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 5px;
            overflow: hidden;
            margin-top: 8px;
            opacity: 0;
            animation: fadeInProgress 0.5s ease-out 2.2s forwards;
        }

        @keyframes fadeInProgress {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .progress-bar {
            width: 0;
            height: 4px;
            background: var(--primary-color);
            animation: progress 1.5s ease-out forwards;
            animation-delay: 2.4s;
        }

        @keyframes progress {
            from { width: 0; }
            to { width: 100%; }
        }

        /* Dynamic Content */
        .dynamic-content {
            margin-bottom: 20px;
            opacity: 0;
            animation: fadeInContent 1s ease-out 3.9s forwards;
            text-align: left;
            font-size: 1em;
            line-height: 1.6;
        }

        #dynamic-message-text p {
            margin-bottom: 12px;
            color: var(--text-color);
        }

        #dynamic-poem-text {
            font-style: italic;
            color: var(--secondary-text);
            margin-top: 20px;
            text-align: center;
            font-size: 0.9em;
            border-top: 1px dashed var(--secondary-text);
            padding-top: 12px;
        }

        #dynamic-poem-text strong {
            color: var(--primary-color);
            font-style: normal;
        }

        @keyframes fadeInContent {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Time Notification */
        .time-notification {
            margin-top: 30px;
            padding: 15px;
            background: rgba(255, 126, 185, 0.1);
            border-radius: 10px;
            border-left: 3px solid var(--primary-color);
            opacity: 0;
            animation: fadeInContent 1s ease-out 5s forwards;
        }

        .time-slots {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .time-slot {
            padding: 8px 12px;
            margin: 5px;
            background: rgba(0, 245, 212, 0.1);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .time-slot:hover {
            background: rgba(0, 245, 212, 0.2);
            transform: translateY(-2px);
        }

        .time-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: var(--container-bg);
            color: var(--text-color);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 0.8em;
            white-space: nowrap;
            pointer-events: none;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .time-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--container-bg) transparent transparent transparent;
        }

        .time-slot:hover .time-tooltip {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Flirt Container */
        .flirt-container {
            min-height: 30px;
            position: relative;
            margin-top: 15px;
            opacity: 0;
            animation: fadeInContent 1s ease-out 4.4s forwards;
        }

        .flirt-line {
            font-style: italic;
            color: var(--secondary-text);
            font-size: 0.95em;
            position: absolute;
            width: 100%;
            left: 0;
            top: 0;
            opacity: 0;
            transition: opacity 1s ease;
            text-align: center;
        }

        .flirt-line.active {
            opacity: 1;
        }

        /* Icon */
        .icon {
            font-size: 2em;
            color: var(--primary-color);
            margin-top: 40px;
            display: inline-block;
            opacity: 0;
            cursor: pointer;
            animation: 
                fadeInContent 1s ease-out 4.9s forwards, 
                gentleBounce 2.8s infinite ease-in-out 4.9s;
            transition: transform 0.3s ease;
        }

        .icon:hover {
            transform: scale(1.2) rotate(10deg);
        }

        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* Typewriter Effect */
        .typewriter {
            border-right: 2px solid var(--primary-color);
            animation: blink-caret 0.75s step-end infinite;
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--primary-color); }
        }

        /* Confetti Effect */
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: var(--primary-color);
            opacity: 0;
            z-index: 1000;
            animation: confetti-fall 3s ease-in-out forwards;
            pointer-events: none;
        }

        @keyframes confetti-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        /* Secret Message */
        .secret-message {
            margin-top: 20px;
            font-size: 0.8em;
            color: var(--secondary-text);
            opacity: 0;
            animation: fadeInContent 1s ease-out 6s forwards;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .secret-message:hover {
            color: var(--primary-color);
            transform: scale(1.02);
        }

        /* Responsive Design */
        @media (max-width: 414px) {
            body {
                padding: 8px;
            }
            .container {
                padding: 15px;
                max-width: 95%;
                border-radius: 10px;
            }
            .header h1 {
                font-size: 1.8em;
                margin-bottom: 6px;
            }
            .header p {
                font-size: 0.9em;
                margin-bottom: 15px;
            }
            .status-check {
                padding: 8px 12px;
                margin-bottom: 15px;
            }
            .status-check p {
                font-size: 0.85em;
                margin: 6px 0;
            }
            .dynamic-content {
                font-size: 0.95em;
                margin-bottom: 15px;
            }
            #dynamic-message-text p {
                margin-bottom: 10px;
            }
            #dynamic-poem-text {
                font-size: 0.85em;
                margin-top: 15px;
                padding-top: 10px;
            }
            .flirt-container {
                min-height: 25px;
                margin-top: 10px;
            }
            .flirt-line {
                font-size: 0.9em;
            }
            .icon {
                font-size: 1.8em;
                margin-top: 30px;
            }
            .time-notification {
                padding: 10px;
            }
            .time-slot {
                padding: 6px 10px;
                font-size: 0.9em;
            }
        }

        @media (max-width: 375px) {
            .container {
                padding: 12px;
            }
            .header h1 {
                font-size: 1.6em;
            }
            .header p {
                font-size: 0.85em;
            }
            .status-check {
                padding: 6px 10px;
            }
            .status-check p {
                font-size: 0.8em;
            }
            .dynamic-content {
                font-size: 0.9em;
            }
            #dynamic-poem-text {
                font-size: 0.8em;
            }
            .flirt-line {
                font-size: 0.85em;
            }
            .icon {
                font-size: 1.6em;
                margin-top: 25px;
            }
            .time-slot {
                padding: 5px 8px;
                font-size: 0.8em;
            }
        }

        @media (max-width: 320px) {
            .container {
                padding: 10px;
            }
            .header h1 {
                font-size: 1.4em;
            }
            .header p {
                font-size: 0.8em;
            }
            .status-check {
                padding: 5px 8px;
            }
            .status-check p {
                font-size: 0.75em;
            }
            .dynamic-content {
                font-size: 0.85em;
            }
            #dynamic-poem-text {
                font-size: 0.75em;
            }
            .flirt-line {
                font-size: 0.8em;
            }
            .icon {
                font-size: 1.5em;
                margin-top: 20px;
            }
            .time-slot {
                padding: 4px 6px;
                font-size: 0.75em;
            }
        }
    </style>
</head>
<body>
    <div id="particles"></div>

    <div class="container" role="main">
        <div class="header">
            <h1 id="greeting-title">ƒêang g·ª≠i l·ªùi nh·∫Øn ƒë·∫øn Nhung...</h1>
            <p id="greeting-subtitle">...</p>
        </div>

        <div class="status-check">
            <p><strong>[C·∫¢M BI·∫æN]:</strong> Ghi nh·∫≠n t√≠n hi·ªáu ƒë·∫∑c bi·ªát...</p>
            <p><strong>[ƒê·ªäNH V·ªä]:</strong> Ngu·ªìn ph√°t <strong>'Nhung'</strong> ƒëang ·ªü <strong>M√≥ng C√°i</strong>.</p>
            <p id="current-time"><strong>[TIME]:</strong> --:--</p>
            <p id="weather-info"><strong>[TH·ªúI TI·∫æT]:</strong> ƒêang c·∫≠p nh·∫≠t...</p>
            <p id="analysis-text"><strong>[PH√ÇN T√çCH]:</strong> ƒêang c·∫£m nh·∫≠n nƒÉng l∆∞·ª£ng...</p>
            <p id="system-status"><strong>[TR·∫†NG TH√ÅI]:</strong> Chu·∫©n b·ªã...</p>
            <p><strong>[PROGRESS]:</strong> ƒê·ªìng b·ªô c·∫£m h·ª©ng...</p>
            <div class="progress-container">
                <div class="progress-bar"></div>
            </div>
        </div>

        <div class="dynamic-content">
            <div id="dynamic-message-text"><p>M·ªôt ch√∫t ch·ªù ƒë·ª£i cho nh·ªØng ƒëi·ªÅu d·ªÖ th∆∞∆°ng nh√©...</p></div>
            <div id="dynamic-poem-text">"..."</div>
        </div>

        <div class="time-notification">
            <p>M·ªói khung gi·ªù trong ng√†y ƒë·ªÅu c√≥ th√¥ng ƒëi·ªáp ƒë·∫∑c bi·ªát d√†nh ri√™ng cho b·∫°n!</p>
            <div class="time-slots">
                <span class="time-slot" data-time="morning">üåÑ Bu·ªïi S√°ng</span>
                <span class="time-slot" data-time="noon">‚òÄÔ∏è Bu·ªïi Tr∆∞a</span>
                <span class="time-slot" data-time="afternoon">üå§Ô∏è Bu·ªïi Chi·ªÅu</span>
                <span class="time-slot" data-time="evening">üåô Bu·ªïi T·ªëi</span>
            </div>
        </div>

        <div class="flirt-container">
            <div class="flirt-line active">...</div>
            <div class="flirt-line">...</div>
            <div class="flirt-line">...</div>
        </div>

        <div class="icon" aria-label="Bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c">üòä</div>

        <div class="secret-message" id="secret-message">
            Nh·∫•n v√†o ƒë√¢y ƒë·ªÉ kh√°m ph√° ƒëi·ªÅu b√≠ m·∫≠t...
        </div>
    </div>

    <script>
        // Enhanced Particle System
        const particleContainer = document.getElementById('particles');
        const shapes = ['‚ù§Ô∏è', '‚≠ê', '‚ú¶', '‚ùÄ', '‚úß', '‚ô°', '‚úø', '‚ùÅ'];
        
        function createParticles() {
            for (let i = 0; i < 25; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                
                if (Math.random() > 0.6) {
                    // Emoji particles
                    p.textContent = shapes[Math.floor(Math.random() * shapes.length)];
                    p.style.fontSize = `${Math.random() * 14 + 10}px`;
                    p.style.color = `hsl(${Math.random() * 60 + 300}, 100%, 70%)`;
                } else {
                    // CSS particles
                    p.style.width = `${Math.random() * 6 + 2}px`;
                    p.style.height = p.style.width;
                    p.style.background = `radial-gradient(circle, var(--primary-color), transparent)`;
                }
                
                p.style.left = `${Math.random() * 100}vw`;
                p.style.top = `${Math.random() * 100}vh`;
                p.style.animationDuration = `${Math.random() * 10 + 5}s`;
                p.style.animationDelay = `${Math.random() * 5}s`;
                particleContainer.appendChild(p);
            }
        }

        // Typewriter Effect
        function typeWriter(element, text, speed = 50) {
            let i = 0;
            element.innerHTML = '';
            element.classList.add('typewriter');
            
            function typing() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                } else {
                    element.classList.remove('typewriter');
                }
            }
            typing();
        }

        // Confetti Effect
        function createConfetti() {
            const colors = ['#ff7eb9', '#00f5d4', '#ffcc00', '#7afcff', '#feff9c', '#ff65a3', '#7e88ff'];
            for (let i = 0; i < 120; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = `${Math.random() * 2}s`;
                confetti.style.width = `${Math.random() * 10 + 5}px`;
                confetti.style.height = `${Math.random() * 10 + 5}px`;
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }

        // Weather API
        async function fetchWeather() {
            try { // M√≥ng C√°i coordinates: approx 21.53, 107.97
                const response = await fetch('https://api.open-meteo.com/v1/forecast?latitude=21.53&longitude=107.97&hourly=temperature_2m,precipitation_probability,weathercode&timezone=Asia/Bangkok&forecast_days=1');
                const data = await response.json();
                
                const now = new Date();
                const currentHour = now.getHours();
                const temp = data.hourly.temperature_2m[currentHour];
                const rainProb = data.hourly.precipitation_probability[currentHour];
                const weatherCode = data.hourly.weathercode[currentHour];
                
                let weatherDesc = '';
                if (weatherCode === 0) weatherDesc = '‚òÄÔ∏è Tr·ªùi n·∫Øng';
                else if (weatherCode < 50) weatherDesc = '‚õÖ Tr·ªùi nhi·ªÅu m√¢y';
                else if (weatherCode < 70) weatherDesc = 'üåßÔ∏è C√≥ m∆∞a';
                else weatherDesc = '‚ùÑÔ∏è C√≥ tuy·∫øt';
                
                document.getElementById('weather-info').innerHTML = 
                    `<strong>[TH·ªúI TI·∫æT]:</strong> M√≥ng C√°i: ${temp}¬∞C, ${rainProb}% m∆∞a, ${weatherDesc}`;
            } catch (error) {
                console.error('L·ªói khi l·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt:', error);
                document.getElementById('weather-info').innerHTML = 
                    `<strong>[TH·ªúI TI·∫æT]:</strong> M√≥ng C√°i: D·ªØ li·ªáu th·ªùi ti·∫øt t·∫°m th·ªùi kh√¥ng kh·∫£ d·ª•ng`;
            }
        }

        // Parallax Effect
        function setupParallax() {
            const container = document.querySelector('.container');
            window.addEventListener('scroll', () => {
                const scrollPosition = window.pageYOffset;
                container.style.transform = `translateY(${scrollPosition * 0.2}px)`;
            });
        }

        // Time Tooltips
        function setupTimeTooltips() {
            const timeSlots = document.querySelectorAll('.time-slot');
            const tooltipMessages = {
                morning: "5h - 11h: Th√¥ng ƒëi·ªáp t∆∞∆°i m·ªõi b·∫Øt ƒë·∫ßu ng√†y",
                noon: "11h - 14h: L·ªùi nh·∫Øn gi·ªØa ng√†y ƒë·∫ßy nƒÉng l∆∞·ª£ng",
                afternoon: "14h - 18h: ƒê·ªông l·ª±c cho kho·∫£ng th·ªùi gian th∆∞ gi√£n",
                evening: "18h - 5h: Nh·ªØng l·ªùi ch√∫c ng·ªçt ng√†o bu·ªïi t·ªëi"
            };
            
            timeSlots.forEach(slot => {
                const time = slot.dataset.time;
                const tooltip = document.createElement('div');
                tooltip.className = 'time-tooltip';
                tooltip.textContent = tooltipMessages[time];
                slot.appendChild(tooltip);
            });
        }

        // Secret Message
        function setupSecretMessage() {
            const secretMessages = [
                "B·∫°n bi·∫øt kh√¥ng? M·ªói khi b·∫°n c∆∞·ªùi, th·∫ø gi·ªõi n√†y ƒë·∫πp h∆°n m·ªôt ch√∫t.",
                "C√≥ m·ªôt ƒëi·ªÅu b√≠ m·∫≠t: B·∫°n r·∫•t m·∫°nh m·∫Ω v√† ƒë·∫∑c bi·ªát!",
                "Nh·∫Øm m·∫Øt l·∫°i v√† nghƒ© v·ªÅ m·ªôt ƒëi·ªÅu khi·∫øn b·∫°n m·ªâm c∆∞·ªùi... b·∫°n x·ª©ng ƒë√°ng v·ªõi ƒëi·ªÅu ƒë√≥!",
                "N·∫øu t√¥i c√≥ th·ªÉ g·ª≠i m·ªôt m√≥n qu√†, ƒë√≥ s·∫Ω l√† m·ªôt c√°i √¥m ·∫•m √°p d√†nh cho b·∫°n.",
                "B·∫°n c√≥ bi·∫øt v√¨ sao b·∫ßu tr·ªùi v·∫´n xanh? V√¨ lu√¥n c√≥ hy v·ªçng v√† c∆° h·ªôi m·ªõi d√†nh cho b·∫°n!"
            ];
            
            const secretElement = document.getElementById('secret-message');
            let clickCount = 0;
            
            secretElement.addEventListener('click', () => {
                clickCount++;
                if (clickCount <= 3) {
                    secretElement.textContent = secretMessages[Math.floor(Math.random() * secretMessages.length)];
                } else if (clickCount === 4) {
                    secretElement.textContent = "B·∫°n th·∫≠t ki√™n nh·∫´n! ƒê√¢y l√† l·ªùi nh·∫Øn cho b·∫°n: H√£y tin v√†o b·∫£n th√¢n v√† nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp s·∫Ω ƒë·∫øn.";
                } else {
                    secretElement.textContent = "B·∫°n ƒë√£ kh√°m ph√° h·∫øt m·ªçi b√≠ m·∫≠t r·ªìi ƒë√≥! ‚ù§Ô∏è";
                }
                
                // Small animation
                secretElement.style.transform = 'scale(1.1)';
                setTimeout(() => {
                    secretElement.style.transform = 'scale(1)';
                }, 300);
            });
        }

        // Main Content Setup
        document.addEventListener('DOMContentLoaded', () => {
            const now = new Date();
            const hour = now.getHours();
            const currentTimeString = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;

            let timeOfDay;
            let timeEmoji;
            let greetingVariations;
            let mainMessages;
            let rotatingThoughts;
            let analysisOptions;
            let statusOptions;

            if (hour >= 5 && hour < 11) {
                timeOfDay = "Bu·ªïi S√°ng"; timeEmoji = "‚òÄÔ∏è";
                greetingVariations = [
                    { title: `Ch√†o Bu·ªïi S√°ng, Nhung!`, subtitle: "Ch√∫c b·∫°n m·ªôt ng√†y m·ªõi th·∫£nh th∆°i v√† t√¨m th·∫•y ni·ªÅm vui nh√©." },
                    { title: `Ng√†y M·ªõi An Y√™n, Nhung ∆°i!`, subtitle: "H√£y d√†nh th·ªùi gian cho b·∫£n th√¢n v√† nh·ªØng ƒëi·ªÅu b·∫°n th√≠ch." },
                    { title: `Nhung ∆†i, B·∫Øt ƒê·∫ßu Ng√†y M·ªõi Nh√©!`, subtitle: "M·ªôt ng√†y m·ªõi v·ªõi nh·ªØng c∆° h·ªôi m·ªõi ƒëang ch·ªù." },
                    { title: `B√¨nh Minh Mang Theo Hy V·ªçng M·ªõi!`, subtitle: "Ch√∫c Nhung m·ªôt ng√†y tr√†n ƒë·∫ßy kh√°m ph√°!" }
                ];
                mainMessages = [
                    { message: "√Ånh n·∫Øng ban mai ƒëang nh·∫£y m√∫a ngo√†i kia k√¨a! Ch√∫c b·∫°n m·ªôt ng√†y th·∫≠t <strong style='color: var(--primary-color);'>th·∫£nh th∆°i</strong> v√† kh√°m ph√° nh·ªØng ƒëi·ªÅu m·ªõi m·∫ª nh√©.", poem: "\"N·∫Øng v√†ng tr·∫£i nh·∫π tr√™n vai,<br> Ch√∫c b·∫°n ng√†y m·ªõi, <strong>an vui</strong> m·ªói ng√†y.\"" },
                    { message: "M·ªôt t√°ch tr√† th∆°m, m·ªôt b·∫£n nh·∫°c hay, v√† l·ªùi ch√†o n√†y g·ª≠i ƒë·∫øn b·∫°n. H√£y ƒë·ªÉ ng√†y m·ªõi b·∫Øt ƒë·∫ßu th·∫≠t <strong style='color: var(--primary-color);'>b√¨nh y√™n</strong> v√† <strong style='color: var(--secondary-color);'>ƒë·∫ßy hy v·ªçng</strong> nh√©.", poem: "\"S·ªõm mai chim h√≥t l√≠u lo,<br> Ch√∫c b·∫°n vui v·∫ª, <strong>th√™m tin</strong> v√†o m√¨nh.\"" },
                    { message: "Th·∫ø gi·ªõi ngo√†i kia ƒëang ch·ªù ƒë·ª£i n·ª• c∆∞·ªùi <strong style='color: var(--primary-color);'>·∫•m √°p</strong> c·ªßa b·∫°n ƒë√≥. ƒê·ª´ng gi·∫•u n√≥ ƒëi nha! Ch√∫c b·∫°n m·ªôt bu·ªïi s√°ng th·∫≠t <strong style='color: var(--primary-color);'>an nhi√™n</strong> v√† t√¨m th·∫•y nh·ªØng ni·ªÅm vui nho nh·ªè.", poem: "\"M·ªü l√≤ng ƒë√≥n √°nh b√¨nh minh,<br>Ch√∫c b·∫°n m·ªôt ng√†y <strong>t∆∞∆°i s√°ng</strong>, hi·ªÅn h√≤a.\"" },
                    { message: "M·ªói bu·ªïi s√°ng l√† m·ªôt c∆° h·ªôi m·ªõi. H√£y d√†nh th·ªùi gian <strong style='color: var(--primary-color);'>cho b·∫£n th√¢n</strong> v√† nh·ªØng ƒëi·ªÅu b·∫°n tr√¢n tr·ªçng nh√©!", poem: "\"S∆∞∆°ng mai ƒë·ªçng gi·ªçt long lanh,<br>Ch√∫c b·∫°n ng√†y m·ªõi <strong>v·ªØng v√†ng</strong>, t·ª± tin.\"" }
                ];
                rotatingThoughts = [
                    "M·ªôt ng√†y m·ªõi b·∫Øt ƒë·∫ßu, h√£y tin v√†o b·∫£n th√¢n nh√©.",
                    "ƒê·ª´ng qu√™n u·ªëng ƒë·ªß n∆∞·ªõc nha b·∫°n.",
                    "H√≠t m·ªôt h∆°i th·∫≠t s√¢u... v√† c·∫£m nh·∫≠n s·ª± b√¨nh y√™n.",
                    "H√¥m nay l√† m·ªôt c∆° h·ªôi m·ªõi ƒë·ªÉ b·∫°n kh√°m ph√°.",
                    "Nh·ªõ d√†nh th·ªùi gian cho b·∫£n th√¢n m·ªôt ch√∫t nh√©.",
                    "B·∫°n r·∫•t m·∫°nh m·∫Ω, Nhung √†!",
                    "H√£y ki√™n nh·∫´n, nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp c·∫ßn th·ªùi gian."
                ];
                analysisOptions = [
                    "NƒÉng l∆∞·ª£ng 'hy v·ªçng' ƒëang ƒë∆∞·ª£c n·∫°p.",
                    "C·∫£m nh·∫≠n s·ª± 'an l√†nh' ƒë·∫ßu ng√†y.",
                    "Ch·ªâ s·ªë 'b√¨nh t√¢m' tƒÉng nh·∫π.",
                    "Kh√¥ng kh√≠ trong l√†nh qu√° ƒëi!",
                    "T√¢m tr·∫°ng 's·∫µn s√†ng kh√°m ph√°' ƒë∆∞·ª£c ghi nh·∫≠n."
                ];
                statusOptions = [
                    "S·∫µn s√†ng ƒë√≥n nh·∫≠n ƒëi·ªÅu m·ªõi!",
                    "Kh·ªüi ƒë·∫ßu th·∫≠t nh·∫π nh√†ng!",
                    "S·∫µn s√†ng cho nh·ªØng kh√°m ph√°!",
                    "NƒÉng l∆∞·ª£ng t√≠ch c·ª±c!",
                    "Ch√†o ng√†y m·ªõi v·ªõi n·ª• c∆∞·ªùi!"
                ];
            } else if (hour >= 11 && hour < 14) {
                timeOfDay = "Bu·ªïi Tr∆∞a"; timeEmoji = "‚òÄÔ∏è";
                greetingVariations = [
                    { title: `Tr∆∞a R·ªìi, Nhung ∆°i!`, subtitle: "D√†nh ch√∫t th·ªùi gian th∆∞ gi√£n v√† n·∫°p l·∫°i nƒÉng l∆∞·ª£ng nh√©." },
                    { title: `Ch√∫c Nhung Bu·ªïi Tr∆∞a An Nhi√™n!`, subtitle: "Hy v·ªçng b·∫°n c√≥ m·ªôt b·ªØa tr∆∞a th·∫≠t th∆∞ th√°i." },
                    { title: `Gi·ªØa Tr∆∞a B√¨nh L·∫∑ng!`, subtitle: "Ngh·ªâ ng∆°i m·ªôt ch√∫t ƒë·ªÉ t√°i t·∫°o nƒÉng l∆∞·ª£ng nh√© Nhung." }
                ];
                mainMessages = [
                    { message: "Gi·ªù ngh·ªâ tr∆∞a r·ªìi! T·∫°m g√°c l·∫°i m·ªçi suy nghƒ©, th∆∞ gi√£n m·ªôt ch√∫t v√† ƒÉn tr∆∞a th·∫≠t ngon mi·ªáng nha b·∫°n. N·∫°p ƒë·∫ßy nƒÉng l∆∞·ª£ng ƒë·ªÉ bu·ªïi chi·ªÅu th·∫≠t <strong style='color: var(--primary-color);'>nh·∫π nh√†ng</strong> v√† <strong style='color: var(--secondary-color);'>th∆∞ th√°i</strong>.", poem: "\"N·∫Øng tr∆∞a ƒë·ªï b√≥ng h√†ng c√¢y,<br> B·∫°n ∆°i ngh·ªâ m·ªôt l√°t <strong>n√†y</strong> th√™m vui.\"" },
                    { message: "D√π b·∫≠n r·ªôn th·∫ø n√†o, c≈©ng ƒë·ª´ng qu√™n d√†nh cho m√¨nh m·ªôt kho·∫£ng l·∫∑ng bu·ªïi tr∆∞a nh√©. Nghe m·ªôt b√†i nh·∫°c hay, ƒë·ªçc v√†i trang s√°ch, ho·∫∑c l√†m ƒëi·ªÅu g√¨ ƒë√≥ b·∫°n th√≠ch. <strong style='color: var(--primary-color);'>B√¨nh y√™n</strong> l·∫Øm ƒë√≥.", poem: "\"Gi·ªù tr∆∞a y√™n ·∫£ thanh b√¨nh,<br> Ch√∫c b·∫°n th∆∞ gi√£n, <strong>th√™m nhi·ªÅu</strong> ni·ªÅm vui.\"" },
                    { message: "Bu·ªïi tr∆∞a l√† kho·∫£ng th·ªùi gian tuy·ªát v·ªùi ƒë·ªÉ <strong style='color: var(--primary-color);'>t√°i t·∫°o</strong> nƒÉng l∆∞·ª£ng. H√£y th∆∞·ªüng cho m√¨nh nh·ªØng ph√∫t gi√¢y th∆∞ gi√£n x·ª©ng ƒë√°ng nh√©!", poem: "\"N·∫Øng tr∆∞a v√†ng √≥ng tr√™n t∆∞·ªùng,<br>Ch√∫c b·∫°n ngh·ªâ ng∆°i, <strong>nh·∫π nh√†ng</strong>, an vui.\"" }
                ];
                rotatingThoughts = [
                    "D√†nh th·ªùi gian cho nh·ªØng ƒëi·ªÅu b·∫°n y√™u th√≠ch.",
                    "M·ªôt b·ªØa tr∆∞a nh·∫π nh√†ng gi√∫p b·∫°n th∆∞ gi√£n.",
                    "H√£y y√™u th∆∞∆°ng b·∫£n th√¢n m√¨nh nhi·ªÅu h∆°n.",
                    "Nghƒ© v·ªÅ ƒëi·ªÅu g√¨ ƒë√≥ vui v·∫ª xem sao.",
                    "N·ª≠a ng√†y ƒë√£ qua, h√£y t·∫≠n h∆∞·ªüng n·ª≠a ng√†y c√≤n l·∫°i.",
                    "M·ªçi th·ª© r·ªìi s·∫Ω ·ªïn th√¥i, Nhung.",
                    "M·ªôt ch√∫t th∆∞ gi√£n s·∫Ω l√†m b·∫°n th·∫•y t·ªët h∆°n."
                ];
                analysisOptions = [
                    "NƒÉng l∆∞·ª£ng '·∫•m √°p' gi·ªØa tr∆∞a.",
                    "C·∫£m nh·∫≠n s·ª± 'th∆∞ th√°i' t·∫°m th·ªùi.",
                    "Ch·ªâ s·ªë 'b√¨nh y√™n' ·ªïn ƒë·ªãnh.",
                    "Th·ªùi gian ƒë·ªÉ 'tƒ©nh l·∫∑ng' m·ªôt ch√∫t.",
                    "C·∫ßn 'n·∫°p l·∫°i' s·ª± th∆∞ th√°i cho t√¢m h·ªìn."
                ];
                statusOptions = [
                    "T·∫°m d·ª´ng ƒë·ªÉ t√°i t·∫°o!",
                    "N·∫°p pin cho t√¢m h·ªìn!",
                    "Gi·ªù ngh·ªâ ng∆°i!",
                    "Th∆∞ gi√£n n√†o!",
                    "Ngh·ªâ tr∆∞a an nhi√™n!"
                ];
            } else if (hour >= 14 && hour < 18) {
                timeOfDay = "Bu·ªïi Chi·ªÅu"; timeEmoji = "üå§Ô∏è";
                greetingVariations = [
                    { title: `Bu·ªïi Chi·ªÅu Nh·∫π Nh√†ng, Nhung nh√©!`, subtitle: "D√†nh th·ªùi gian cho nh·ªØng ƒëi·ªÅu b·∫°n y√™u th√≠ch." },
                    { title: `Ch√†o Bu·ªïi Chi·ªÅu, Nhung!`, subtitle: "Ch√∫c b·∫°n m·ªôt bu·ªïi chi·ªÅu th·∫≠t th∆∞ th√°i v√† t√¨m th·∫•y ni·ªÅm vui." },
                    { title: `Chi·ªÅu V·ªÅ An Y√™n!`, subtitle: "Ch√∫c Nhung bu·ªïi chi·ªÅu th·∫≠t b√¨nh y√™n v√† th∆∞ gi√£n." }
                ];
                mainMessages = [
                    { message: "Bu·ªïi chi·ªÅu l√† kho·∫£ng th·ªùi gian tuy·ªát v·ªùi ƒë·ªÉ <strong style='color: var(--primary-color);'>th∆∞ gi√£n</strong> v√† l√†m nh·ªØng ƒëi·ªÅu m√¨nh th√≠ch. H√£y t·∫≠n h∆∞·ªüng t·ª´ng kho·∫£nh kh·∫Øc nh√© Nhung.", poem: "\"Chi·ªÅu bu√¥ng n·∫Øng nh·∫°t b√™n th·ªÅm,<br> Ch√∫c b·∫°n l√≤ng th·∫•y <strong>an y√™n</strong>, hi·ªÅn h√≤a.\"" },
                    { message: "Ho√†ng h√¥n bu√¥ng xu·ªëng th·∫≠t ƒë·∫πp. ƒê√¢y l√† l√∫c ƒë·ªÉ b·∫°n <strong style='color: var(--primary-color);'>nh√¨n l·∫°i</strong> m·ªôt ng√†y v√† d√†nh th·ªùi gian cho b·∫£n th√¢n. M·ªçi th·ª© r·ªìi s·∫Ω ·ªïn th√¥i.", poem: "\"Ho√†ng h√¥n nhu·ªôm t√≠m ch√¢n tr·ªùi,<br>Ch√∫c b·∫°n kho·∫£nh kh·∫Øc <strong>b√¨nh y√™n</strong>, nh·∫π v∆°i.\"" },
                    { message: "Bu·ªïi chi·ªÅu mang ƒë·∫øn kh√¥ng kh√≠ <strong style='color: var(--primary-color);'>d·ªãu d√†ng</strong>. H√£y ƒë·ªÉ t√¢m h·ªìn b·∫°n ƒë∆∞·ª£c ngh·ªâ ng∆°i v√† chu·∫©n b·ªã cho m·ªôt bu·ªïi t·ªëi th·∫≠t ·∫•m c√∫ng.", poem: "\"N·∫Øng chi·ªÅu v√†ng nh·∫°t b·ªù tre,<br>Ch√∫c b·∫°n t√¨m th·∫•y <strong>th·∫≠t nhi·ªÅu</strong> ni·ªÅm vui.\"" }
                ];
                rotatingThoughts = [
                    "T·∫≠n h∆∞·ªüng kho·∫£nh kh·∫Øc hi·ªán t·∫°i nh√©.",
                    "M·ªôt ch√∫t nh·∫°c nh·∫π cho bu·ªïi chi·ªÅu th√™m th∆∞ th√°i.",
                    "L√™n k·∫ø ho·∫°ch cho m·ªôt bu·ªïi t·ªëi th·∫≠t d·ªÖ ch·ªãu.",
                    "B·∫°n x·ª©ng ƒë√°ng v·ªõi nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp.",
                    "H√£y ƒë·ªÉ l√≤ng m√¨nh ƒë∆∞·ª£c th·∫£nh th∆°i.",
                    "Nh·ªõ u·ªëng n∆∞·ªõc ƒë·∫ßy ƒë·ªß nha!",
                    "B·∫°n x·ª©ng ƒë√°ng ƒë∆∞·ª£c ngh·ªâ ng∆°i r·ªìi ƒë√≥!"
                ];
                analysisOptions = [
                    "NƒÉng l∆∞·ª£ng 'b√¨nh y√™n' lan t·ªèa.",
                    "C·∫£m nh·∫≠n s·ª± 'thanh th·∫£n' d·∫ßn ƒë·∫øn.",
                    "Ch·ªâ s·ªë 'th∆∞ gi√£n' ƒëang tƒÉng.",
                    "S·∫Øp ƒë·∫øn gi·ªù ngh·ªâ ng∆°i.",
                    "T√¢m tr·∫°ng 'nh·∫π nh√µm' ƒë∆∞·ª£c ghi nh·∫≠n."
                ];
                statusOptions = [
                    "T·∫≠n h∆∞·ªüng kho·∫£nh kh·∫Øc n√†y!",
                    "Th·ªùi gian cho b·∫£n th√¢n!",
                    "Chu·∫©n b·ªã th∆∞ gi√£n!",
                    "M·ªçi th·ª© ƒë·ªÅu ·ªïn!",
                    "Th·∫£ l·ªèng n√†o!"
                ];
            } else { // Evening
                timeOfDay = "Bu·ªïi T·ªëi"; timeEmoji = "üåô";
                greetingVariations = [
                    { title: `Bu·ªïi T·ªëi An L√†nh, Nhung nh√©!`, subtitle: "H√£y t·∫≠n h∆∞·ªüng kho·∫£nh kh·∫Øc y√™n b√¨nh n√†y." },
                    { title: `Ch√∫c Nhung Ng·ªß Ngon!`, subtitle: "Mong b·∫°n c√≥ nh·ªØng gi·∫•c m∆° th·∫≠t ƒë·∫πp v√† hy v·ªçng." },
                    { title: `ƒê√™m V·ªÅ Tƒ©nh L·∫∑ng!`, subtitle: "Ch√∫c Nhung bu·ªïi t·ªëi th·∫≠t th∆∞ th√°i v√† b√¨nh y√™n." }
                ];
                mainMessages = [
                    { message: "M·ªôt ng√†y n·ªØa ƒë√£ qua. H√£y ƒë·ªÉ nh·ªØng lo toan mu·ªôn phi·ªÅn l·∫°i ph√≠a sau v√† t·∫≠n h∆∞·ªüng bu·ªïi t·ªëi <strong style='color: var(--primary-color);'>y√™n b√¨nh</strong> b√™n nh·ªØng ƒëi·ªÅu b·∫°n y√™u th√≠ch. B·∫°n x·ª©ng ƒë√°ng ƒë∆∞·ª£c ngh·ªâ ng∆°i.", poem: "\"ƒê√™m v·ªÅ sao s√°ng ƒë·∫ßy tr·ªùi,<br> Ch√∫c b·∫°n ngon gi·∫•c, <strong>gi·∫•c m∆°</strong> d·ªãu hi·ªÅn.\"" },
                    { message: "√Ånh ƒë√®n ƒë∆∞·ªùng ƒë√£ l√™n, kh√¥ng kh√≠ th·∫≠t <strong style='color: var(--primary-color);'>d·ªãu d√†ng</strong>. ƒê√¢y l√† th·ªùi gian ho√†n h·∫£o ƒë·ªÉ ƒë·ªçc m·ªôt cu·ªën s√°ch hay, xem m·ªôt b·ªô phim ·∫•m √°p, ho·∫∑c tr√≤ chuy·ªán c√πng ng∆∞·ªùi th√¢n y√™u. Ch√∫c b·∫°n bu·ªïi t·ªëi th·∫≠t <strong style='color: var(--secondary-color);'>th∆∞ th√°i</strong>.", poem: "\"TrƒÉng treo tr√™n m√°i hi√™n nh√†,<br> Ng·ªß ƒëi b·∫°n nh√©, <strong>an l√†nh</strong>, y√™n vui.\"" },
                    { message: "ƒê·ª´ng ƒë·ªÉ nh·ªØng lo l·∫Øng l√†m phi·ªÅn bu·ªïi t·ªëi c·ªßa b·∫°n nh√©. H√£y ƒë·ªÉ t√¢m tr√≠ ƒë∆∞·ª£c <strong style='color: var(--primary-color);'>ngh·ªâ ng∆°i</strong> ho√†n to√†n. M·ªôt gi·∫•c ng·ªß s√¢u s·∫Ω gi√∫p b·∫°n th·ª©c d·∫≠y s·∫£ng kho√°i v√†o ng√†y mai.", poem: "\"Gi√≥ khuya th·ªïi nh·∫π qua m√†nh,<br> Ng·ªß ƒëi b·∫°n nh√©, <strong>m·ªông l√†nh</strong> t√¨m v·ªÅ.\"" },
                    { message: "T·ªëi nay h√£y d√†nh th·ªùi gian <strong style='color: var(--primary-color);'>chƒÉm s√≥c b·∫£n th√¢n</strong> nh√©. M·ªôt ly s·ªØa ·∫•m, b·∫£n nh·∫°c nh·∫π, v√† nh·ªØng suy nghƒ© t√≠ch c·ª±c s·∫Ω mang ƒë·∫øn gi·∫•c ng·ªß ngon.", poem: "\"ƒê√™m v·ªÅ gi√≥ m√°t trƒÉng thanh,<br>Ch√∫c b·∫°n ng·ªß ngon, <strong>th·∫≠t nhi·ªÅu</strong> ∆∞·ªõc m∆°.\"" }
                ];
                rotatingThoughts = [
                    "Th∆∞ gi√£n v√† t·∫≠n h∆∞·ªüng bu·ªïi t·ªëi c·ªßa b·∫°n.",
                    "M·ªôt b·∫£n nh·∫°c nh·∫π nh√†ng s·∫Ω gi√∫p b·∫°n d·ªÖ ng·ªß h∆°n.",
                    "G√°c l·∫°i lo √¢u, ng√†y mai l·∫°i b·∫Øt ƒë·∫ßu.",
                    "B·∫°n r·∫•t ki√™n c∆∞·ªùng v√† ƒë√°ng tr√¢n tr·ªçng.",
                    "Ng·ªß th·∫≠t ngon nh√©!",
                    "H√£y tin r·∫±ng ng√†y mai s·∫Ω t·ªët h∆°n.",
                    "Nh·ªõ t·∫Øt ƒëi·ªán tho·∫°i tr∆∞·ªõc khi ng·ªß nha!"
                ];
                analysisOptions = [
                    "Kh√¥ng gian 'y√™n tƒ©nh' bao tr√πm.",
                    "C·∫£m nh·∫≠n s·ª± 'b√¨nh y√™n' s√¢u l·∫Øng.",
                    "Ch·ªâ s·ªë 'th∆∞ gi√£n' ·ªü m·ª©c cao.",
                    "Th·ªùi gian ƒë·ªÉ ngh·ªâ ng∆°i.",
                    "NƒÉng l∆∞·ª£ng 'd·ªãu √™m' ƒë∆∞·ª£c ghi nh·∫≠n."
                ];
                statusOptions = [
                    "ƒê·∫øn gi·ªù ngh·ªâ ng∆°i!",
                    "N·∫°p nƒÉng l∆∞·ª£ng cho ng√†y mai!",
                    "T·∫≠n h∆∞·ªüng s·ª± y√™n tƒ©nh!",
                    "Th∆∞ gi√£n ho√†n to√†n!",
                    "Chu·∫©n b·ªã cho gi·∫•c ng·ªß ngon!"
                ];
            }

            // Select random content
            const randomVariation = greetingVariations[Math.floor(Math.random() * greetingVariations.length)];
            const randomMain = mainMessages[Math.floor(Math.random() * mainMessages.length)];
            const randomAnalysis = analysisOptions[Math.floor(Math.random() * analysisOptions.length)];
            const randomStatus = statusOptions[Math.floor(Math.random() * statusOptions.length)];

            // Apply content with typewriter effect
            typeWriter(document.getElementById('greeting-title'), randomVariation.title);
            document.getElementById('greeting-subtitle').textContent = randomVariation.subtitle;
            document.getElementById('current-time').innerHTML = `<strong>[TIME]:</strong> ${currentTimeString} ${timeEmoji}`;
            document.getElementById('analysis-text').innerHTML = `<strong>[PH√ÇN T√çCH]:</strong> ${randomAnalysis}`;
            document.getElementById('system-status').innerHTML = `<strong>[TR·∫†NG TH√ÅI]:</strong> <strong class="status-ok">${randomStatus}</strong>`;
            document.title = randomVariation.title;

            document.getElementById('dynamic-message-text').innerHTML = `<p>${randomMain.message}</p>`;
            document.getElementById('dynamic-poem-text').innerHTML = randomMain.poem;

            // Rotating thoughts
            const flirtContainer = document.querySelector('.flirt-container');
            const flirtElements = flirtContainer.querySelectorAll('.flirt-line');
            let currentThoughtIndex = 0;
            let thoughtInterval;

            function showNextThought() {
                flirtElements.forEach(el => el.classList.remove('active'));
                if (rotatingThoughts.length > 0 && flirtElements.length > 0) {
                    const messageIndex = currentThoughtIndex % rotatingThoughts.length;
                    const elementIndex = currentThoughtIndex % flirtElements.length;
                    flirtElements[elementIndex].textContent = rotatingThoughts[messageIndex];
                    flirtElements[elementIndex].classList.add('active');
                    currentThoughtIndex++;
                }
            }

            if (flirtElements.length > 0 && rotatingThoughts.length > 0) {
                const thoughtStartTime = 4900 + 1000; // Adjusted from original 4.9s + 1s for icon + content
                setTimeout(() => {
                    showNextThought();
                    thoughtInterval = setInterval(showNextThought, 6000);
                }, thoughtStartTime);
            } else {
                flirtContainer.style.display = 'none';
            }

            // Random icon
            const iconElement = document.querySelector('.icon');
            const icons = ['üòä', 'üíñ', '‚ú®', 'üå∏', 'üåü', '‚òÄÔ∏è', 'üåô', 'üå∫', 'üí´', 'üå∑', 'üå±', 'ü¶ã']; // Added some more gentle/hopeful icons
            iconElement.textContent = icons[Math.floor(Math.random() * icons.length)];

            // Setup all features
            createParticles();
            setTimeout(createConfetti, 4000);
            fetchWeather();
            setupParallax();
            setupTimeTooltips();
            setupSecretMessage();
        });
    </script>
</body>
</html>
